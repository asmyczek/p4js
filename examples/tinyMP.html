<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>Tiny Math Processor demo</title>
		<style>
			table.table { border-collapse: collapse; }
			table.table tr td { border:1px solid #999999; }
		</style>
		<script type="text/javascript" src="../src/p4.js"></script>
		<script type="text/javascript" src="../src/tinyMP.js"></script>
		<script type="text/javascript">
			// Executor
			function execute(input) {
      var output  = document.getElementById("output"),
          canvas  = document.getElementById("graph"),
				  error   = document.getElementById('error'),
          tmp     = TinyMP(output, canvas);

        // Clean errors
				error.innerHTML  = "";

				// Parse and print results or error
				try {
					tmp.parse(input);
				} catch(e) {
					error.innerHTML = tmp.errorToString(e);
				}
			};
		</script>
	</head>

	<body>
        <h3>Tiny math processor demo</h3>

		<p>
			<div>
<textarea id="input" rows="5" cols="40">
eval(2+2)
</textarea>
			</div>
			<a href="javascript:;" onclick="execute(document.getElementById('input').value);">Execute</a>
		</p>

		<p>
			<div id="error" style="color:red;"></div>
      <div><i>eval()</i> and <i>print()</i> output:</div>
      <ol id="output" style="border:1px solid #888888">
      </ol>
		</p>

    <p>
    <div><i>draw()</i> function graph:</div>
      <canvas id="graph" style="border:1px solid #888888"></canvas>
    </p>

	</body>
</html>

